/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package escala;

import java.util.Calendar;

/**
 *
 * @author Dream
 */
public class PnCalendario extends javax.swing.JPanel {

    java.awt.GridBagConstraints gridBagConstraints;
    private int i = 0;
    /**
     * Creates new form PnCalendario
     */
    public PnCalendario(int idioma) {
        this.i = idioma;
        initComponents();
        semana();
        repaint();
    }
    
    protected void monta(Calendar inicio, Calendar emb, Calendar desemb, boolean reuniao, int trabalho, int folga){
        
        Calendar embarque = emb;
        Calendar desembarque = desemb;
        Calendar vespera = Calendar.getInstance();
        vespera.setTime(embarque.getTime());
        vespera.add(Calendar.DAY_OF_MONTH, -1);
        Calendar data = inicio;
            
        
        data.set(Calendar.DAY_OF_MONTH, 1); // ajusta a data para o primeiro dia do mês
        int max = data.getActualMaximum(Calendar.DATE); // pega o ultimo dia do mês
        int linha = 2;
            // Configurando Mês e Ano
        String[][] mes = {  {"Janeiro", "Fevereiro", "Março", "Abril", "Maio", "Junho", 
                        "Julho", "Agosto", "Setembro", "Outubro", "Novembro", "Dezembro"},
            
                            {"January", "February", "March", "April", "May", "June", 
                        "July", "August", "September", "October", "November", "December"},
                            
                            {"Enero", "Febrero", "Marzo", "Abril", "Mayo", "Junio", 
                        "Julio", "Agosto", "Septiembre", "Octubre", "Noviembre", "Diciembre"},
                            
                            {"Janvier", "Février", "Mars", "Avril", "Mai", "Juin", 
                        "Juillet", "Août", "Septembre", "Octobre", "Novembre", "Décembre"}};
        lbMes.setText(mes[i][data.get(Calendar.MONTH)]);
        lbAno.setText(Integer.toString(data.get(Calendar.YEAR)));
        
        for(int dia = 1; max >= dia; dia++){
            
                // Construção do label
            javax.swing.JLabel lbInserir = new javax.swing.JLabel();
            lbInserir.setText(dia<10?"0"+(dia):Integer.toString(dia)); // setando o dia com 2 digitos
            lbInserir.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
            lbInserir.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(0, 0, 0), 1));
            lbInserir.setOpaque(true);
            lbInserir.setPreferredSize(new java.awt.Dimension(25, 16));
            
                // Pintura das células
            if((data.getTime().equals(embarque.getTime()) || data.getTime().after(embarque.getTime()))
                    && (data.getTime().equals(desembarque.getTime()) || data.getTime().before(desembarque.getTime()))){ 
                if(data.getTime().equals(embarque.getTime())){
                        // Dia do embarque
                    lbInserir.setBackground(new java.awt.Color(0,0,153)); // fundo azul marinho
                    lbInserir.setForeground(new java.awt.Color(255, 255, 255)); // letra branca
                }else{ // Demais dias
                    lbInserir.setBackground(new java.awt.Color(204, 0, 0)); // fundo vermelho
                    lbInserir.setForeground(new java.awt.Color(255, 255, 255)); // letra branca
                }
            }else{
                    // Demais dias de desembarque
                lbInserir.setBackground(new java.awt.Color(255, 255, 255)); //fundo branco
                lbInserir.setForeground(new java.awt.Color(0, 0, 0)); // letra preta
            }
            if(reuniao && data.getTime().equals(vespera.getTime())){
                lbInserir.setBackground(new java.awt.Color(255, 255, 51)); // fundo amarelo
                lbInserir.setForeground(new java.awt.Color(0, 0, 0)); // letra preta
            }
            if(data.getTime().equals(desembarque.getTime())){
                    // Dia do desembarque
                System.out.println("desembarcou dia "+data.getTime());
                lbInserir.setBackground(new java.awt.Color(255, 186, 186)); //fundo branco
                lbInserir.setForeground(new java.awt.Color(0, 0, 0)); // letra preta
                
                embarque.setTime(desembarque.getTime());
                embarque.add(Calendar.DAY_OF_MONTH, +folga);
                
                desembarque.setTime(embarque.getTime());
                desembarque.add(Calendar.DAY_OF_MONTH, +trabalho);
                
                vespera.setTime(embarque.getTime());
                vespera.add(Calendar.DAY_OF_MONTH, -1);
            }
            
                // Eventos do mouse
            lbInserir.addMouseListener(new java.awt.event.MouseAdapter(){
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                // não sei se farei algo aqui
                System.out.println("clicou no dia "+lbInserir.getText()+" de "+lbMes.getText()+" do ano de "+lbAno.getText());
            }
                public void mouseEntered(java.awt.event.MouseEvent evt){
                    lbInserir.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(255, 0, 51), 2));
                    if( lbInserir.getBackground().equals(new java.awt.Color(204,0,0)) ){
                        lbInserir.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(255, 255, 51), 2));
                    }
                }
                public void mouseExited(java.awt.event.MouseEvent evt){
                    lbInserir.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(0, 0, 0), 1));
                }
            }); // fim dos eventos
            
                // Inserção do label
            gridBagConstraints = new java.awt.GridBagConstraints();
            if(i >= 2){ // Verifica se é espanhol ou frances
                gridBagConstraints.gridx = data.get(Calendar.DAY_OF_WEEK)-2;
                if(data.get(Calendar.DAY_OF_WEEK) == 1){ // Testa se é o domingo espanhol/frances
                    gridBagConstraints.gridx = 6;
                }
            }else{ // Demais idiomas
                gridBagConstraints.gridx = data.get(Calendar.DAY_OF_WEEK)-1;
            }
            gridBagConstraints.gridy = linha;
            if(data.get(Calendar.DAY_OF_WEEK) == 7 && i < 2){ linha++; }
            if(data.get(Calendar.DAY_OF_WEEK) == 1 && i >= 2){ linha++; }
            add(lbInserir, gridBagConstraints);
            data.add(Calendar.DAY_OF_MONTH, +1);
        }
    }
    
    private void semana(){
        String[][] dias = { {"Dom", "Seg", "Ter", "Qua", "Qui", "Sex", "Sab"},
                            {"Sun", "Mon", "Tue", "Med", "Thu", "Fri", "Sat"},
                            {"Lun", "Mar", "Mié", "Jue", "Vie", "Sáb", "Dom"},
                            {"Lun", "Mar", "Mer", "Jeu", "Ven", "Sam", "Dim"}};
        jLabel1.setText(dias[i][0]);
        jLabel2.setText(dias[i][1]);
        jLabel3.setText(dias[i][2]);
        jLabel4.setText(dias[i][3]);
        jLabel5.setText(dias[i][4]);
        jLabel6.setText(dias[i][5]);
        jLabel7.setText(dias[i][6]);
            // Testa o idioma
        if(i >= 2){ // espanhol
            jLabel1.setForeground(java.awt.Color.black);
            jLabel7.setForeground(java.awt.Color.red);
        }else{ // outros
            jLabel1.setForeground(java.awt.Color.red);
            jLabel7.setForeground(java.awt.Color.black);
        }
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">                          
    private void initComponents() {
        java.awt.GridBagConstraints gridBagConstraints;

        jLabel1 = new javax.swing.JLabel();
        jLabel2 = new javax.swing.JLabel();
        jLabel3 = new javax.swing.JLabel();
        jLabel4 = new javax.swing.JLabel();
        jLabel5 = new javax.swing.JLabel();
        jLabel6 = new javax.swing.JLabel();
        jLabel7 = new javax.swing.JLabel();
        lbMes = new javax.swing.JLabel();
        lbAno = new javax.swing.JLabel();

        setBackground(new java.awt.Color(0, 0, 0));
        setMaximumSize(new java.awt.Dimension(190, 120));
        setPreferredSize(new java.awt.Dimension(190, 40));
        setLayout(new java.awt.GridBagLayout());

        jLabel1.setBackground(new java.awt.Color(204, 255, 255));
        jLabel1.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel1.setForeground(new java.awt.Color(255, 0, 51));
        jLabel1.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel1.setText("Dom");
        jLabel1.setOpaque(true);
        jLabel1.setPreferredSize(new java.awt.Dimension(25, 16));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.ipadx = 2;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.PAGE_START;
        add(jLabel1, gridBagConstraints);

        jLabel2.setBackground(new java.awt.Color(204, 255, 255));
        jLabel2.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel2.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel2.setText("Seg");
        jLabel2.setOpaque(true);
        jLabel2.setPreferredSize(new java.awt.Dimension(25, 16));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.ipadx = 2;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.PAGE_START;
        add(jLabel2, gridBagConstraints);

        jLabel3.setBackground(new java.awt.Color(204, 255, 255));
        jLabel3.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel3.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel3.setText("Ter");
        jLabel3.setOpaque(true);
        jLabel3.setPreferredSize(new java.awt.Dimension(25, 16));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 2;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.ipadx = 2;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.PAGE_START;
        add(jLabel3, gridBagConstraints);

        jLabel4.setBackground(new java.awt.Color(204, 255, 255));
        jLabel4.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel4.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel4.setText("Qua");
        jLabel4.setOpaque(true);
        jLabel4.setPreferredSize(new java.awt.Dimension(25, 16));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 3;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.ipadx = 2;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.PAGE_START;
        add(jLabel4, gridBagConstraints);

        jLabel5.setBackground(new java.awt.Color(204, 255, 255));
        jLabel5.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel5.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel5.setText("Qui");
        jLabel5.setOpaque(true);
        jLabel5.setPreferredSize(new java.awt.Dimension(25, 16));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 4;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.ipadx = 2;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.PAGE_START;
        add(jLabel5, gridBagConstraints);

        jLabel6.setBackground(new java.awt.Color(204, 255, 255));
        jLabel6.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel6.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel6.setText("Sex");
        jLabel6.setOpaque(true);
        jLabel6.setPreferredSize(new java.awt.Dimension(25, 16));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 5;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.ipadx = 2;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.PAGE_START;
        add(jLabel6, gridBagConstraints);

        jLabel7.setBackground(new java.awt.Color(204, 255, 255));
        jLabel7.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel7.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel7.setText("Sab");
        jLabel7.setOpaque(true);
        jLabel7.setPreferredSize(new java.awt.Dimension(25, 16));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 6;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.ipadx = 2;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.PAGE_START;
        add(jLabel7, gridBagConstraints);

        lbMes.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        lbMes.setForeground(new java.awt.Color(255, 255, 255));
        lbMes.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        lbMes.setText("Mês");
        lbMes.setPreferredSize(new java.awt.Dimension(75, 16));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.gridwidth = 4;
        add(lbMes, gridBagConstraints);

        lbAno.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        lbAno.setForeground(new java.awt.Color(255, 255, 255));
        lbAno.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        lbAno.setText("Ano");
        lbAno.setPreferredSize(new java.awt.Dimension(40, 16));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 4;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.gridwidth = 3;
        add(lbAno, gridBagConstraints);
    }// </editor-fold>                        


    // Variables declaration - do not modify                     
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel lbAno;
    private javax.swing.JLabel lbMes;
    // End of variables declaration                   
}
